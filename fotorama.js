/* Fotorama v1.0 (1155) http://fotoramajs.com/ */
function disableSelection(a){a.mousemove(function(a){a.preventDefault()}).mousedown(function(a){a.preventDefault()})}function getBoxShadowColor(a){var b="0 0 10px "+a;return{"-moz-box-shadow":b,"-webkit-box-shadow":b,"-o-box-shadow":b,"box-shadow":b}}function getDuration(a){var b=a+"ms";return{"-moz-transition-duration":b,"-webkit-transition-duration":b,"-o-transition-duration":b,"transition-duration":b}}function getTranslate(a){var b="translate3d("+a+"px, 0, 0)";return{"-moz-transform":b,"-webkit-transform":b,"-o-transform":b,transform:b}}window.Modernizr=function(a,b,c){function i(a){p.cssText=a}function h(a,b){return i(s.join(a+";")+(b||""))}function g(a,b){return typeof a===b}function f(a,b){return!!~(""+a).indexOf(b)}function e(a,b){for(var d in a)if(p[a[d]]!==c)return b=="pfx"?a[d]:!0;return!1}function d(a,b){var c=a.charAt(0).toUpperCase()+a.substr(1),d=(a+" "+t.join(c+" ")+c).split(" ");return e(d,b)}var j="2.0.6",k={},l=b.documentElement,m=b.head||b.getElementsByTagName("head")[0],n="modernizr",o=b.createElement(n),p=o.style,q,r=Object.prototype.toString,s=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),t="Webkit Moz O ms Khtml".split(" "),u={},v={},w={},x=[],y=function(a,c,d,e){var f,g,h,i=b.createElement("div");if(parseInt(d,10))while(d--)h=b.createElement("div"),h.id=e?e[d]:n+(d+1),i.appendChild(h);f=["Â­","<style>",a,"</style>"].join(""),i.id=n,i.innerHTML+=f,l.appendChild(i),g=c(i,a),i.parentNode.removeChild(i);return!!g},z,A={}.hasOwnProperty,B;!g(A,c)&&!g(A.call,c)?B=function(a,b){return A.call(a,b)}:B=function(a,b){return b in a&&g(a.constructor.prototype[b],c)};var C=function(a,c){var d=a.join(""),e=c.length;y(d,function(a,c){var d=b.styleSheets[b.styleSheets.length-1],f=d.cssRules&&d.cssRules[0]?d.cssRules[0].cssText:d.cssText||"",g=a.childNodes,h={};while(e--)h[g[e].id]=g[e];k.csstransforms3d=h.csstransforms3d.offsetLeft===9},e,c)}([,["@media (",s.join("transform-3d),("),n,")","{#csstransforms3d{left:9px;position:absolute}}"].join("")],[,"csstransforms3d"]);u.canvas=function(){var a=b.createElement("canvas");return!!a.getContext&&!!a.getContext("2d")},u.csstransforms3d=function(){var a=!!e(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);a&&"webkitPerspective"in l.style&&(a=k.csstransforms3d);return a},u.csstransitions=function(){return d("transitionProperty")};for(var D in u)B(u,D)&&(z=D.toLowerCase(),k[z]=u[D](),x.push((k[z]?"":"no-")+z));i(""),o=q=null,k._version=j,k._prefixes=s,k._domPrefixes=t,k.testProp=function(a){return e([a])},k.testAllProps=d,k.testStyles=y;return k}(this,this.document);(function(a){a.fn.fotorama=function(b){var c=a.extend({width:null,height:null,transitionDuration:333,touchStyle:true,backgroundColor:null,margin:0,minPadding:10,preload:3,zoomToFit:true,arrows:true,arrowsColor:null,thumbs:true,thumbsBackgroundColor:null,thumbColor:null,thumbsPreview:true,thumbSize:48,thumbMargin:0,thumbBorderWidth:3,thumbBorderColor:null,caption:false},b);var d="ontouchstart"in document;var e=a.browser.msie;var f=200;var g=true;this.each(function(){function bs(){if(g){if(_>l){X.addClass("fotorama__thumbs_shadow")}}if(T){bn(0,false)}}function br(){if(l&&m&&!p){b.css({width:l});I.add(U).css({width:l,height:m});if(!c.touchStyle){J.css({width:l,height:m})}else{r=(l+c.margin)*j-c.margin;J.css({width:r,height:m})}if(c.thumbs){X.css({width:l,visibility:"visible"})}if(c.arrows){N.add(O).css({top:m/2})}if(g&&c.touchStyle){L.css({height:m})}p=true}}function bn(a,b){if(_){var d=V.position().left;var e=V.data("width");if(!e)e=c.thumbSize;if(_>l){var f=d+e/2;var h=l/2;var i=be.index(V);var k=i-W;var m=Z.position().left;if(b&&(k>0&&b>h*.75||k<0&&b<h*1.25)){var n;if(k>0){n=i+1}else{n=i-1}if(n<0){n=0}else if(n>j-1){n=j-1}if(i!=n){var p=be.eq(n);f=p.position().left+p.data("width")/2;h=b}}var q=-(_-l);var r=Math.round(-(f-h)+c.thumbMargin);if(k>0&&r>m||k<0&&r<m){r=m}if(r<=q){r=q;if(g){X.removeClass("fotorama__thumbs_shadow_no-left").addClass("fotorama__thumbs_shadow_no-right")}}else if(r>=c.thumbMargin){r=c.thumbMargin;if(g){X.removeClass("fotorama__thumbs_shadow_no-right").addClass("fotorama__thumbs_shadow_no-left")}}else{if(g){X.removeClass("fotorama__thumbs_shadow_no-left fotorama__thumbs_shadow_no-right")}}if(Modernizr.csstransforms3d&&Modernizr.csstransitions){Z.css(getDuration(a));setTimeout(function(){Z.css(getTranslate(r))},1)}else{Z.stop().animate({left:r},a)}}else{if(Modernizr.csstransforms3d&&Modernizr.csstransitions){Z.css(getDuration(0));Z.css(getTranslate(l/2-_/2))}else{Z.css({left:l/2-_/2})}}var s=e;if(c.thumbBorderWidth>c.thumbMargin){s=s-(c.thumbBorderWidth-c.thumbMargin)*2}var t=d-Math.min(c.thumbMargin,c.thumbBorderWidth);bb.show();if(Modernizr.csstransforms3d&&Modernizr.csstransitions){bb.css(getDuration(a));setTimeout(function(){bb.css(getTranslate(t)).css({width:s})},1)}else{bb.stop().animate({left:t,width:s},a)}}}function bm(a,b,e){var f,h;var i=U.index(a);bj(a);var j=c.transitionDuration;if(b&&b.altKey){j=j*10}if(T){var k=U.index(T);f=T;if(c.thumbs){h=V}}else{f=U.not(a);if(c.thumbs){h=be.not(be.eq(i))}}if(c.thumbs){V=be.eq(i);if(k){W=k}h.removeClass("fotorama__thumb_selected").data("disabled",false);V.addClass("fotorama__thumb_selected").data("disabled",true);if(c.thumbsPreview&&!d){h.children().stop().fadeTo(j,c.thumbOpacity);V.children().stop().fadeTo(j,c.thumbOpacityActive)}}if(g){f.removeClass("fotorama__frame_active");a.addClass("fotorama__frame_active")}if(c.thumbs&&c.thumbsPreview){bn(j,e)}if(c.touchStyle){var m=-i*(l+c.margin);if(Modernizr.csstransforms3d&&Modernizr.csstransitions){J.css(getDuration(j));setTimeout(function(){J.css(getTranslate(m))},1)}else{J.stop().animate({left:m},j)}}else{if(Modernizr.csstransforms3d&&Modernizr.csstransitions){if(!T){a.css({opacity:0})}f.add(a).css(getDuration(j));setTimeout(function(){f.css({opacity:0});a.css({opacity:1})},1)}else{if(!T){a.stop().fadeTo(0,0)}f.stop().fadeTo(j,0);a.stop().fadeTo(j,1)}}if(c.caption){if(a.data("alt")){bf.html(a.data("alt")).show()}else{bf.html("").hide()}}T=a;if(c.arrows){bh()}clearTimeout(q);q=setTimeout(bk,j)}function bl(a,b){if(a.data("loaded")){b()}else{setTimeout(function(){bl(a,b)},100)}}function bk(){var a=U.index(T);var b=0;var e=[];for(i=0;i<c.preload*2+1;i++){var f=a-c.preload+i;if(f>=0&&f!=a&&f<j&&(!U.eq(f).data("wraped")||U.eq(f).data("detached"))){b++;e.push(f)}}if(e.length>=c.preload){for(i=0;i<e.length;i++){bj(U.eq(e[i]))}}if(d){var g=a-c.preload;if(g<0)g=0;var h=a+c.preload+1;if(h>j-1)h=j-1;U.slice(0,g).add(U.slice(h,j-1)).data({detached:true}).detach()}}function bj(b){var d=U.index(b);if(!b.data("wraped")){J.append(b);function e(e){var f=b.data("imgWidth");var g=b.data("imgHeight");var h=b.data("imgRatio");if(Modernizr.canvas){var i=e.get(0);var j=a("<canvas></canvas>");e.after(j).remove();e=j}e.addClass("fotorama__img");if((!l||!m)&&!p){l=f;m=g}if(c.touchStyle){var k=d*(l+c.margin);b.css({left:k})}if(!n){n=l/m*1e3}if(f!=l||g!=m){var q=0;if(Math.round(h)!=Math.round(n)){q=c.minPadding*2}if(h>=n){f=Math.round(l-q)<f||c.zoomToFit?Math.round(l-q):f;g=Math.round(f/h*1e3)}else{g=Math.round(m-q)<g||c.zoomToFit?Math.round(m-q):g;f=Math.round(g*h/1e3)}}e.css({width:f,height:g}).attr({width:f,height:g});if(Modernizr.canvas){var r=j.get(0).getContext("2d");r.drawImage(i,0,0,f,g)}if(g<m){e.css({top:Math.round((m-g)/2)})}br()}bi(d,b,e,"img");b.data({wraped:true})}else if(b.data("detached")){b.data({detached:false}).appendTo(J)}}function bi(b,d,f,g){function p(){if(g=="thumb"){j.removeAttr("width")}var a=j.width();var b=j.height();var c=a/b*1e3;if(g=="img"){i.data({imgWidth:a,imgHeight:b,imgRatio:c,loaded:true})}else{i.data({thumbRatio:c})}j.css({visibility:"visible"});f(j)}function n(){j.attr({src:m}).css({visibility:"hidden"}).appendTo(d);if(g=="thumb"){j.attr({width:c.thumbSize})}}var i=U.eq(b);var j=a("<img />");var l=h.eq(b);var m;if(g=="img"){m=l.attr("href")||l.attr("src")||l.children().attr("src")}else{m=l.children().attr("src")||l.attr("src")||l.attr("href")}m=m+"?"+e;if(c.caption){i.data({alt:l.attr("alt")||l.children().attr("alt")})}if(!k[m]){k[m]="loading";j.load(function(){p();k[m]="loaded"});n()}else{n();function q(){if(k[m]=="loaded"){p()}else{setTimeout(q,100)}}q()}}function bh(){var a=U.index(T);if(a==0||j<2){N.addClass("fotorama__arr_disabled").data("disabled",true)}else{N.removeClass("fotorama__arr_disabled").data("disabled",false)}if(a==j-1||j<2){O.addClass("fotorama__arr_disabled").data("disabled",true)}else{O.removeClass("fotorama__arr_disabled").data("disabled",false)}}function bg(a,b){b.stopPropagation();b.preventDefault();var d=U.index(T);var e=d+a;if(e<0){if(c.loop){e=j-1}else{e=0}}if(e>j-1){if(c.loop){e=0}else{e=j-1}}bm(U.eq(e),b,false)}var b=a(this);var e=(new Date).getTime();b.addClass("fotorama");var h=b.children().filter(function(){var b=a(this);return(b.is("a")&&b.children("img").size()||b.is("img"))&&(b.attr("href")||b.attr("src")||b.children().attr("src"))});var j=h.size();b.html("");c.loop=false;if(!c.touchStyle){c.loop=true;c.arrows=false}var k=[];var l=c.width;var m=c.height;var n;var p=false;var q;if(c.touchStyle){var r=0,s,t,u,v,w,x,y,z,A,B,C=0;var D=false;var E;var F=false;var G=false;var H=false}var I=a('<div class="fotorama__wrap"></div>');var J=a('<div class="fotorama__shaft"></div>');var K=J.get(0);b.append(I.append(J));disableSelection(b);if(d){I.addClass("fotorama__wrap_touch");g=false}if(c.touchStyle){I.addClass("fotorama__wrap_style_touch");if(g){I.append('<i class="fotorama__shadow fotorama__shadow_left"></i><i class="fotorama__shadow fotorama__shadow_right"></i>');var L=a(".fotorama__shadow",I)}}else{I.addClass("fotorama__wrap_style_fade")}if(Modernizr.csstransforms3d&&Modernizr.csstransitions){I.addClass("fotorama__wrap_csstransitions")}if(c.arrows){I.append('<i class="fotorama__arr fotorama__arr_prev">&#9668;</i><i class="fotorama__arr fotorama__arr_next">&#9658;</i>');var M=a(".fotorama__arr",b);var N=a(".fotorama__arr_prev",b);var O=a(".fotorama__arr_next",b);if(!d){var P=false;var Q;function R(){P=true;clearTimeout(Q);M.css(getDuration(0));I.removeClass("fotorama__wrap_mouseout");setTimeout(function(){M.css(getDuration(c.transitionDuration));setTimeout(function(){I.addClass("fotorama__wrap_mouseover")},1)},1)}function S(){clearTimeout(Q);Q=setTimeout(function(){if(!D&&!P){I.removeClass("fotorama__wrap_mouseover").addClass("fotorama__wrap_mouseout")}},c.transitionDuration*10)}I.mouseenter(function(){R()});I.mouseleave(function(){P=false;S()})}}var T;var U=a();h.each(function(b){var c=a('<div class="fotorama__frame"></div>');U=U.add(c)});if(c.thumbs){var V;var W=0;var X=a('<div class="fotorama__thumbs"></div>');if(c.thumbsPreview){c.thumbOpacity=.66;c.thumbOpacityActive=1;var Y=c.thumbSize+c.thumbMargin*2;X.addClass("fotorama__thumbs_previews").css({height:Y})}X.appendTo(b).css("visibility","hidden");var Z=a('<div class="fotorama__thumbs-shaft"></div>');X.append(Z);if(c.thumbsPreview){var _=0;if(g){X.append('<i class="fotorama__shadow fotorama__shadow_left"></i><i class="fotorama__shadow fotorama__shadow_right"></i>');var ba=a(".fotorama__shadow",X);ba.css({height:Y})}var bb=a('<i class="fotorama__thumb-border"></i>');var bc=c.thumbSize;if(bc>=Y-c.thumbBorderWidth*2){bc=Y-c.thumbBorderWidth*2}var bd=c.thumbMargin-Math.min(c.thumbMargin,c.thumbBorderWidth);bb.hide().css({height:bc,top:bd,"border-width":c.thumbBorderWidth}).appendTo(Z)}h.each(function(b){var d;if(c.thumbsPreview){d=a('<div class="fotorama__thumb"></div>');d.css({height:c.thumbSize,margin:c.thumbMargin})}else{d=a('<i class="fotorama__thumb"><i class="fotorama__thumb__dot"></i></i>')}d.appendTo(Z)});var be=a(".fotorama__thumb",b);if(c.thumbsPreview){h.each(function(b){function f(f){var g=e.data("thumbRatio");if(Modernizr.canvas){var h=f.get(0)}var j=Math.round(c.thumbSize*g/1e3);if(Modernizr.canvas){f.remove();f=a('<canvas class="fotorama__thumb__img"></canvas>');f.appendTo(be.eq(b))}else{f.addClass("fotorama__thumb__img")}f.attr({width:j,height:c.thumbSize});if(Modernizr.canvas){var k=f.get(0).getContext("2d");k.drawImage(h,0,0,j,c.thumbSize)}if(!d&&b!=0){f.stop().fadeTo(0,c.thumbOpacity)}_+=j+c.thumbMargin;Z.css({width:_});be.eq(b).data({width:j});if(p&&_<=l*1.5){bs()}}var e=U.eq(b);var g=b*100;setTimeout(function(){bi(b,be.eq(b),f,"thumb")},g)})}}if(c.caption){var bf=a('<p class="fotorama__caption"></p>');bf.appendTo(b)}if(l&&m){br()}bm(U.eq(0),false,false);if(c.thumbs){if(c.thumbColor&&!c.thumbsPreview){be.children().css("background-color",c.thumbColor)}if(c.thumbsBackgroundColor){X.css("background-color",c.thumbsBackgroundColor);if(c.thumbsPreview&&g){ba.css(getBoxShadowColor(c.thumbsBackgroundColor))}}if(c.thumbsPreview){if(c.thumbBorderColor){bb.css({"border-color":c.thumbBorderColor})}if(!d){be.hover(function(){var b=a(this);if(!b.hasClass("fotorama__thumb_selected")){b.children().stop().fadeTo(c.transitionDuration/2,c.thumbOpacityActive)}},function(){var b=a(this);if(!b.hasClass("fotorama__thumb_selected")){b.children().stop().fadeTo(c.transitionDuration*2,c.thumbOpacity)}})}}}if(c.backgroundColor){I.add(U).css("background-color",c.backgroundColor)}if(c.arrowsColor&&c.arrows){O.add(N).css("color",c.arrowsColor)}if(c.thumbs){be.click(function(b){b.stopPropagation();var c=a(this);if(!c.data("disabled")){var d=be.index(a(this));var e=b.pageX-X.offset().left;bm(U.eq(d),b,e)}})}if(c.arrows){N.click(function(b){if(!a(this).data("disabled")){bg(-1,b)}});O.click(function(b){if(!a(this).data("disabled")){bg(+1,b)}})}if(!c.touchStyle&&!d){I.click(function(a){if(!a.shiftKey){bg(+1,a)}else{bg(-1,a)}})}if(c.touchStyle||d){function bo(b){if(T){function c(){z=[];D=false;y=(new Date).getTime();v=t;w=u;z.push([y,t]);s=J.position().left;if(Modernizr.csstransforms3d&&Modernizr.csstransitions){J.css(getDuration(0)).css(getTranslate(s))}else{J.stop()}x=s}if(!d){t=b.pageX;b.preventDefault();c();a(document).mousemove(bp);a(document).mouseup(bq)}else if(d&&b.targetTouches.length==1){t=b.targetTouches[0].pageX;u=b.targetTouches[0].pageY;c();K.addEventListener("touchmove",bp,false);K.addEventListener("touchend",bq,false)}else if(d&&b.targetTouches.length>1){return false}}}function bp(a){function b(){a.preventDefault();if(!D){if(g){I.addClass("fotorama__wrap_shadow")}if(!d){J.addClass("fotorama__shaft_grabbing")}}D=true;clearTimeout(E);A=(new Date).getTime();z.push([A,t]);var b=v-t;var e=-(r-l);s=x-b;if(s>0){s=Math.round(s-s/1.25);H=true;if(g){I.addClass("fotorama__wrap_shadow_no-left").removeClass("fotorama__wrap_shadow_no-right")}}else if(s<e){s=Math.round(s+(e-s)/1.25);H=true;if(g){I.addClass("fotorama__wrap_shadow_no-right").removeClass("fotorama__wrap_shadow_no-left")}}else{H=false;if(g){I.removeClass("fotorama__wrap_shadow_no-left fotorama__wrap_shadow_no-right")}}if(c.touchStyle){if(Modernizr.csstransforms3d&&Modernizr.csstransitions){J.css(getTranslate(s))}else{J.css("left",s)}}}if(!d){t=a.pageX;b()}else if(d&&a.targetTouches.length==1){t=a.targetTouches[0].pageX;u=a.targetTouches[0].pageY;if(!G){if(Math.abs(t-v)-Math.abs(u-w)>=-5){F=true;a.preventDefault()}G=true}else if(F){b()}}}function bq(b){if(!d||!b.targetTouches.length){F=false;G=false;E=setTimeout(function(){D=false;if(!d){S()}},f);if(!d){a(document).unbind("mouseup");a(document).unbind("mousemove")}else{K.removeEventListener("touchmove",bp,false);K.removeEventListener("touchend",bq,false)}if(g){I.removeClass("fotorama__wrap_shadow")}if(!d){J.removeClass("fotorama__shaft_grabbing")}B=(new Date).getTime();var e=-s;var h=false;var k=false;var m=B-f;var n,p,q,r;for(i=0;i<z.length;i++){n=Math.abs(m-z[i][0]);if(i==0){p=n;q=B-z[i][0];r=z[i][1]}if(n<=p){p=n;q=z[i][0];r=z[i][1]}}var u=B-q;var v=u<=f;var w=B-C<=1e3;var x=r-t;if(c.touchStyle){if(v){if(x<=-10){h=true}else if(x>=10){k=true}}var y=undefined;if(!h&&!k){y=Math.round(e/l)}else{if(!w){if(h){y=Math.round((e-l/2)/l)}else if(k){y=Math.round((e+l/2)/l)}}else{if(h){bg(-1,b)}else if(k){bg(+1,b)}}}if(y!=undefined){if(y<0)y=0;if(y>j-1)y=j-1;bm(U.eq(y),b,false)}}else{if(x>=0){bg(+1,b)}else if(x<0){bg(-1,b)}}C=B}}if(!d){J.mousedown(bo)}else{K.addEventListener("touchstart",bo,false)}}})}})(jQuery)
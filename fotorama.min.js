/* Fotorama v1.0 (1151) http://fotoramajs.com/ */
function disableSelection(a){a.mousemove(function(a){a.preventDefault()}).mousedown(function(a){a.preventDefault()})}function getBoxShadowColor(a){var b="0 0 10px "+a;return{"-moz-box-shadow":b,"-webkit-box-shadow":b,"-o-box-shadow":b,"box-shadow":b}}function getDuration(a){var b=a+"ms";return{"-moz-transition-duration":b,"-webkit-transition-duration":b,"-o-transition-duration":b,"transition-duration":b}}function getTranslate(a){var b="translate3d("+a+"px, 0, 0)";return{"-moz-transform":b,"-webkit-transform":b,"-o-transform":b,transform:b}}window.Modernizr=function(a,b,c){function i(a){p.cssText=a}function h(a,b){return i(s.join(a+";")+(b||""))}function g(a,b){return typeof a===b}function f(a,b){return!!~(""+a).indexOf(b)}function e(a,b){for(var d in a)if(p[a[d]]!==c)return b=="pfx"?a[d]:!0;return!1}function d(a,b){var c=a.charAt(0).toUpperCase()+a.substr(1),d=(a+" "+t.join(c+" ")+c).split(" ");return e(d,b)}var j="2.0.6",k={},l=b.documentElement,m=b.head||b.getElementsByTagName("head")[0],n="modernizr",o=b.createElement(n),p=o.style,q,r=Object.prototype.toString,s=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),t="Webkit Moz O ms Khtml".split(" "),u={},v={},w={},x=[],y=function(a,c,d,e){var f,g,h,i=b.createElement("div");if(parseInt(d,10))while(d--)h=b.createElement("div"),h.id=e?e[d]:n+(d+1),i.appendChild(h);f=["­","<style>",a,"</style>"].join(""),i.id=n,i.innerHTML+=f,l.appendChild(i),g=c(i,a),i.parentNode.removeChild(i);return!!g},z,A={}.hasOwnProperty,B;!g(A,c)&&!g(A.call,c)?B=function(a,b){return A.call(a,b)}:B=function(a,b){return b in a&&g(a.constructor.prototype[b],c)};var C=function(a,c){var d=a.join(""),e=c.length;y(d,function(a,c){var d=b.styleSheets[b.styleSheets.length-1],f=d.cssRules&&d.cssRules[0]?d.cssRules[0].cssText:d.cssText||"",g=a.childNodes,h={};while(e--)h[g[e].id]=g[e];k.csstransforms3d=h.csstransforms3d.offsetLeft===9},e,c)}([,["@media (",s.join("transform-3d),("),n,")","{#csstransforms3d{left:9px;position:absolute}}"].join("")],[,"csstransforms3d"]);u.canvas=function(){var a=b.createElement("canvas");return!!a.getContext&&!!a.getContext("2d")},u.csstransforms3d=function(){var a=!!e(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);a&&"webkitPerspective"in l.style&&(a=k.csstransforms3d);return a},u.csstransitions=function(){return d("transitionProperty")};for(var D in u)B(u,D)&&(z=D.toLowerCase(),k[z]=u[D](),x.push((k[z]?"":"no-")+z));i(""),o=q=null,k._version=j,k._prefixes=s,k._domPrefixes=t,k.testProp=function(a){return e([a])},k.testAllProps=d,k.testStyles=y;return k}(this,this.document);(function(a){a.fn.fotorama=function(b){var c=a.extend({width:null,height:null,transitionDuration:333,touchStyle:true,backgroundColor:null,margin:0,minPadding:10,preload:3,zoomToFit:true,arrows:true,arrowsColor:null,thumbs:true,thumbsBackgroundColor:null,thumbColor:null,thumbsPreview:true,thumbSize:48,thumbMargin:0,thumbBorderWidth:3,thumbBorderColor:null,caption:false},b);var d="ontouchstart"in document;var e=a.browser.msie;var f=200;var g=true;this.each(function(){function bt(){if(g){if(ba>m){Y.addClass("fotorama__thumbs_shadow")}}if(U){bo(0,false)}}function bs(){if(m&&n&&!q){b.css({width:m});J.add(V).css({width:m,height:n});if(!c.touchStyle){K.css({width:m,height:n})}else{s=(m+c.margin)*k-c.margin;K.css({width:s,height:n})}if(c.thumbs){Y.css({width:m,visibility:"visible"})}if(c.arrows){O.add(P).css({top:n/2})}if(g&&c.touchStyle){M.css({height:n})}q=true}}function bo(a,b){if(ba){var d=W.position().left;var e=W.data("width");if(!e)e=c.thumbSize;if(ba>m){var f=d+e/2;var h=m/2;var i=bf.index(W);var j=i-X;var l=_.position().left;if(b&&(j>0&&b>h*.75||j<0&&b<h*1.25)){var n;if(j>0){n=i+1}else{n=i-1}if(n<0){n=0}else if(n>k-1){n=k-1}if(i!=n){var p=bf.eq(n);f=p.position().left+p.data("width")/2;h=b}}var q=-(ba-m);var r=Math.round(-(f-h)+c.thumbMargin);if(j>0&&r>l||j<0&&r<l){r=l}if(r<=q){r=q;if(g){Y.removeClass("fotorama__thumbs_shadow_no-left").addClass("fotorama__thumbs_shadow_no-right")}}else if(r>=c.thumbMargin){r=c.thumbMargin;if(g){Y.removeClass("fotorama__thumbs_shadow_no-right").addClass("fotorama__thumbs_shadow_no-left")}}else{if(g){Y.removeClass("fotorama__thumbs_shadow_no-left fotorama__thumbs_shadow_no-right")}}if(Modernizr.csstransforms3d&&Modernizr.csstransitions){_.css(getDuration(a));setTimeout(function(){_.css(getTranslate(r))},1)}else{_.stop().animate({left:r},a)}}else{if(Modernizr.csstransforms3d&&Modernizr.csstransitions){_.css(getDuration(0));_.css(getTranslate(m/2-ba/2))}else{_.css({left:m/2-ba/2})}}var s=e;if(c.thumbBorderWidth>c.thumbMargin){s=s-(c.thumbBorderWidth-c.thumbMargin)*2}var t=d-Math.min(c.thumbMargin,c.thumbBorderWidth);bc.show();if(Modernizr.csstransforms3d&&Modernizr.csstransitions){bc.css(getDuration(a));setTimeout(function(){bc.css(getTranslate(t)).css({width:s})},1)}else{bc.stop().animate({left:t,width:s},a)}}}function bn(a,b,e){var f,h;var i=V.index(a);bk(a);var j=c.transitionDuration;if(b&&b.altKey){j=j*10}if(U){var k=V.index(U);f=U;if(c.thumbs){h=W}}else{f=V.not(a);if(c.thumbs){h=bf.not(bf.eq(i))}}if(c.thumbs){W=bf.eq(i);if(k){X=k}h.removeClass("fotorama__thumb_selected").data("disabled",false);W.addClass("fotorama__thumb_selected").data("disabled",true);if(c.thumbsPreview&&!d){h.children().stop().fadeTo(j,c.thumbOpacity);W.children().stop().fadeTo(j,c.thumbOpacityActive)}}if(g){f.removeClass("fotorama__frame_active");a.addClass("fotorama__frame_active")}if(c.thumbs&&c.thumbsPreview){bo(j,e)}if(c.touchStyle){var l=-i*(m+c.margin);if(Modernizr.csstransforms3d&&Modernizr.csstransitions){K.css(getDuration(j));setTimeout(function(){K.css(getTranslate(l))},1)}else{K.stop().animate({left:l},j)}}else{if(Modernizr.csstransforms3d&&Modernizr.csstransitions){if(!U){a.css({opacity:0})}f.add(a).css(getDuration(j));setTimeout(function(){f.css({opacity:0});a.css({opacity:1})},1)}else{if(!U){a.stop().fadeTo(0,0)}f.stop().fadeTo(j,0);a.stop().fadeTo(j,1)}}if(c.caption){if(a.data("alt")){bg.html(a.data("alt")).show()}else{bg.html("").hide()}}U=a;if(c.arrows){bi()}clearTimeout(r);r=setTimeout(bl,j)}function bm(a,b){if(a.data("loaded")){b()}else{setTimeout(function(){bm(a,b)},100)}}function bl(){var a=V.index(U);var b=0;var d=[];for(i=0;i<c.preload*2+1;i++){var e=a-c.preload+i;if(e>=0&&e!=a&&e<k&&(!V.eq(e).data("wraped")||V.eq(e).data("detached"))){b++;d.push(e)}}if(d.length>=c.preload){for(i=0;i<d.length;i++){bk(V.eq(d[i]))}}}function bk(b){var d=V.index(b);if(!b.data("wraped")){K.append(b);function e(e){var f=b.data("imgWidth");var g=b.data("imgHeight");var h=b.data("imgRatio");if(Modernizr.canvas){var i=e.get(0);var j=a("<canvas></canvas>");e.after(j).remove();e=j}e.addClass("fotorama__img");if((!m||!n)&&!q){m=f;n=g}if(c.touchStyle){var k=d*(m+c.margin);b.css({left:k})}if(!p){p=m/n*1e3}if(f!=m||g!=n){var l=0;if(Math.round(h)!=Math.round(p)){l=c.minPadding*2}if(h>=p){f=Math.round(m-l)<f||c.zoomToFit?Math.round(m-l):f;g=Math.round(f/h*1e3)}else{g=Math.round(n-l)<g||c.zoomToFit?Math.round(n-l):g;f=Math.round(g*h/1e3)}}e.css({width:f,height:g}).attr({width:f,height:g});if(Modernizr.canvas){var r=j.get(0).getContext("2d");r.drawImage(i,0,0,f,g)}if(g<n){e.css({top:Math.round((n-g)/2)})}bs()}bj(d,b,e,"img");b.data({wraped:true})}else if(b.data("detached")){b.data({detached:false}).appendTo(K)}}function bj(b,d,f,g){function q(){if(g=="thumb"){k.removeAttr("width")}var a=k.width();var b=k.height();var c=a/b*1e3;if(g=="img"){i.data({imgWidth:a,imgHeight:b,imgRatio:c,loaded:true})}else{i.data({thumbRatio:c})}k.css({visibility:"visible"});f(k)}function p(){k.attr({src:n}).css({visibility:"hidden"}).appendTo(d);if(g=="thumb"){k.attr({width:c.thumbSize})}}var i=V.eq(b);var k=a("<img />");var m=j.eq(b);var n;if(g=="img"){n=m.attr("href")||m.attr("src")||m.children().attr("src")}else{n=m.children().attr("src")||m.attr("src")||m.attr("href")}if(e){n=n+"?"+h}if(c.caption){i.data({alt:m.attr("alt")||m.children().attr("alt")})}if(!l[n]){l[n]="loading";k.load(function(){q();l[n]="loaded"});p()}else{p();function r(){if(l[n]=="loaded"){q()}else{setTimeout(r,100)}}r()}}function bi(){var a=V.index(U);if(a==0||k<2){O.addClass("fotorama__arr_disabled").data("disabled",true)}else{O.removeClass("fotorama__arr_disabled").data("disabled",false)}if(a==k-1||k<2){P.addClass("fotorama__arr_disabled").data("disabled",true)}else{P.removeClass("fotorama__arr_disabled").data("disabled",false)}}function bh(a,b){b.stopPropagation();b.preventDefault();var d=V.index(U);var e=d+a;if(e<0){if(c.loop){e=k-1}else{e=0}}if(e>k-1){if(c.loop){e=0}else{e=k-1}}bn(V.eq(e),b,false)}var b=a(this);var h=(new Date).getTime();b.addClass("fotorama");var j=b.children().filter(function(){var b=a(this);return(b.is("a")&&b.children("img").size()||b.is("img"))&&(b.attr("href")||b.attr("src")||b.children().attr("src"))});var k=j.size();b.html("");c.loop=false;if(!c.touchStyle){c.loop=true;c.arrows=false}var l=[];var m=c.width;var n=c.height;var p;var q=false;var r;if(c.touchStyle){var s=0,t,u,v,w,x,y,z,A,B,C,D=0;var E=false;var F;var G=false;var H=false;var I=false}var J=a('<div class="fotorama__wrap"></div>');var K=a('<div class="fotorama__shaft"></div>');var L=K.get(0);b.append(J.append(K));disableSelection(b);if(d){J.addClass("fotorama__wrap_touch");g=false}if(c.touchStyle){J.addClass("fotorama__wrap_style_touch");if(g){J.append('<i class="fotorama__shadow fotorama__shadow_left"></i><i class="fotorama__shadow fotorama__shadow_right"></i>');var M=a(".fotorama__shadow",J)}}else{J.addClass("fotorama__wrap_style_fade")}if(Modernizr.csstransforms3d&&Modernizr.csstransitions){J.addClass("fotorama__wrap_csstransitions")}if(c.arrows){J.append('<i class="fotorama__arr fotorama__arr_prev">◄</i><i class="fotorama__arr fotorama__arr_next">►</i>');var N=a(".fotorama__arr",b);var O=a(".fotorama__arr_prev",b);var P=a(".fotorama__arr_next",b);if(!d){var Q=false;var R;function S(){Q=true;clearTimeout(R);N.css(getDuration(0));J.removeClass("fotorama__wrap_mouseout");setTimeout(function(){N.css(getDuration(c.transitionDuration));setTimeout(function(){J.addClass("fotorama__wrap_mouseover")},1)},1)}function T(){clearTimeout(R);R=setTimeout(function(){if(!E&&!Q){J.removeClass("fotorama__wrap_mouseover").addClass("fotorama__wrap_mouseout")}},c.transitionDuration*10)}J.mouseenter(function(){S()});J.mouseleave(function(){Q=false;T()})}}var U;var V=a();j.each(function(b){var c=a('<div class="fotorama__frame"></div>');V=V.add(c)});if(c.thumbs){var W;var X=0;var Y=a('<div class="fotorama__thumbs"></div>');if(c.thumbsPreview){c.thumbOpacity=.66;c.thumbOpacityActive=1;var Z=c.thumbSize+c.thumbMargin*2;Y.addClass("fotorama__thumbs_previews").css({height:Z})}Y.appendTo(b).css("visibility","hidden");var _=a('<div class="fotorama__thumbs-shaft"></div>');Y.append(_);if(c.thumbsPreview){var ba=0;if(g){Y.append('<i class="fotorama__shadow fotorama__shadow_left"></i><i class="fotorama__shadow fotorama__shadow_right"></i>');var bb=a(".fotorama__shadow",Y);bb.css({height:Z})}var bc=a('<i class="fotorama__thumb-border"></i>');var bd=c.thumbSize;if(bd>=Z-c.thumbBorderWidth*2){bd=Z-c.thumbBorderWidth*2}var be=c.thumbMargin-Math.min(c.thumbMargin,c.thumbBorderWidth);bc.hide().css({height:bd,top:be,"border-width":c.thumbBorderWidth}).appendTo(_)}j.each(function(b){var d;if(c.thumbsPreview){d=a('<div class="fotorama__thumb"></div>');d.css({height:c.thumbSize,margin:c.thumbMargin})}else{d=a('<i class="fotorama__thumb"><i class="fotorama__thumb__dot"></i></i>')}d.appendTo(_)});var bf=a(".fotorama__thumb",b);if(c.thumbsPreview){j.each(function(b){function f(f){var g=e.data("thumbRatio");if(Modernizr.canvas){var h=f.get(0)}var j=Math.round(c.thumbSize*g/1e3);if(Modernizr.canvas){f.remove();f=a('<canvas class="fotorama__thumb__img"></canvas>');f.appendTo(bf.eq(b))}else{f.addClass("fotorama__thumb__img")}f.attr({width:j,height:c.thumbSize});if(Modernizr.canvas){var k=f.get(0).getContext("2d");k.drawImage(h,0,0,j,c.thumbSize)}if(!d&&b!=0){f.stop().fadeTo(0,c.thumbOpacity)}ba+=j+c.thumbMargin;_.css({width:ba});bf.eq(b).data({width:j});if(q&&ba<=m*1.5){bt()}}var e=V.eq(b);var g=b*100;setTimeout(function(){bj(b,bf.eq(b),f,"thumb")},g)})}}if(c.caption){var bg=a('<p class="fotorama__caption"></p>');bg.appendTo(b)}if(m&&n){bs()}bn(V.eq(0),false,false);if(c.thumbs){if(c.thumbColor&&!c.thumbsPreview){bf.children().css("background-color",c.thumbColor)}if(c.thumbsBackgroundColor){Y.css("background-color",c.thumbsBackgroundColor);if(c.thumbsPreview&&g){bb.css(getBoxShadowColor(c.thumbsBackgroundColor))}}if(c.thumbsPreview){if(c.thumbBorderColor){bc.css({"border-color":c.thumbBorderColor})}if(!d){bf.hover(function(){var b=a(this);if(!b.hasClass("fotorama__thumb_selected")){b.children().stop().fadeTo(c.transitionDuration/2,c.thumbOpacityActive)}},function(){var b=a(this);if(!b.hasClass("fotorama__thumb_selected")){b.children().stop().fadeTo(c.transitionDuration*2,c.thumbOpacity)}})}}}if(c.backgroundColor){J.add(V).css("background-color",c.backgroundColor)}if(c.arrowsColor&&c.arrows){P.add(O).css("color",c.arrowsColor)}if(c.thumbs){bf.click(function(b){b.stopPropagation();var c=a(this);if(!c.data("disabled")){var d=bf.index(a(this));var e=b.pageX-Y.offset().left;bn(V.eq(d),b,e)}})}if(c.arrows){O.click(function(b){if(!a(this).data("disabled")){bh(-1,b)}});P.click(function(b){if(!a(this).data("disabled")){bh(+1,b)}})}if(!c.touchStyle&&!d){J.click(function(a){if(!a.shiftKey){bh(+1,a)}else{bh(-1,a)}})}if(c.touchStyle||d){function bp(b){if(U){function c(){A=[];E=false;z=(new Date).getTime();w=u;x=v;A.push([z,u]);t=K.position().left;if(Modernizr.csstransforms3d&&Modernizr.csstransitions){K.css(getDuration(0)).css(getTranslate(t))}else{K.stop()}y=t}if(!d){u=b.pageX;b.preventDefault();c();a(document).mousemove(bq);a(document).mouseup(br)}else if(d&&b.targetTouches.length==1){u=b.targetTouches[0].pageX;v=b.targetTouches[0].pageY;c();L.addEventListener("touchmove",bq,false);L.addEventListener("touchend",br,false)}else if(d&&b.targetTouches.length>1){return false}}}function bq(a){function b(){a.preventDefault();if(!E){if(g){J.addClass("fotorama__wrap_shadow")}if(!d){K.addClass("fotorama__shaft_grabbing")}}E=true;clearTimeout(F);B=(new Date).getTime();A.push([B,u]);var b=w-u;var e=-(s-m);t=y-b;if(t>0){t=Math.round(t-t/1.25);I=true;if(g){J.addClass("fotorama__wrap_shadow_no-left").removeClass("fotorama__wrap_shadow_no-right")}}else if(t<e){t=Math.round(t+(e-t)/1.25);I=true;if(g){J.addClass("fotorama__wrap_shadow_no-right").removeClass("fotorama__wrap_shadow_no-left")}}else{I=false;if(g){J.removeClass("fotorama__wrap_shadow_no-left fotorama__wrap_shadow_no-right")}}if(c.touchStyle){if(Modernizr.csstransforms3d&&Modernizr.csstransitions){K.css(getTranslate(t))}else{K.css("left",t)}}}if(!d){u=a.pageX;b()}else if(d&&a.targetTouches.length==1){u=a.targetTouches[0].pageX;v=a.targetTouches[0].pageY;if(!H){if(Math.abs(u-w)-Math.abs(v-x)>=-5){G=true;a.preventDefault()}H=true}else if(G){b()}}}function br(b){if(!d||!b.targetTouches.length){G=false;H=false;F=setTimeout(function(){E=false;if(!d){T()}},f);if(!d){a(document).unbind("mouseup");a(document).unbind("mousemove")}else{L.removeEventListener("touchmove",bq,false);L.removeEventListener("touchend",br,false)}if(g){J.removeClass("fotorama__wrap_shadow")}if(!d){K.removeClass("fotorama__shaft_grabbing")}C=(new Date).getTime();var e=-t;var h=false;var j=false;var l=C-f;var n,p,q,r;for(i=0;i<A.length;i++){n=Math.abs(l-A[i][0]);if(i==0){p=n;q=C-A[i][0];r=A[i][1]}if(n<=p){p=n;q=A[i][0];r=A[i][1]}}var s=C-q;var v=s<=f;var w=C-D<=1e3;var x=r-u;if(c.touchStyle){if(v){if(x<=-10){h=true}else if(x>=10){j=true}}var y=undefined;if(!h&&!j){y=Math.round(e/m)}else{if(!w){if(h){y=Math.round((e-m/2)/m)}else if(j){y=Math.round((e+m/2)/m)}}else{if(h){bh(-1,b)}else if(j){bh(+1,b)}}}if(y!=undefined){if(y<0)y=0;if(y>k-1)y=k-1;bn(V.eq(y),b,false)}}else{if(x>=0){bh(+1,b)}else if(x<0){bh(-1,b)}}D=C}}if(!d){K.mousedown(bp)}else{L.addEventListener("touchstart",bp,false)}}})}})(jQuery)